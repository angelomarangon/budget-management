@model PaginacionRespuesta<Categoria>
@{
    ViewData["Title"] = "Categorías";
}

<div class="categoria-wrapper py-4">
    <div class="d-flex justify-content-between align-items-start mb-4">
        <div>
            <h1 class="fw-bold mb-1">Categorías</h1>
            <p class="text-muted">
                Las categorías nos permiten identificar en qué gastamos nuestro dinero y de dónde provienen nuestros ingresos.
            </p>
        </div>
        <a asp-action="Crear" class="btn btn-categoria">
            <i class="bi bi-plus-circle me-1"></i> Crear nuevo
        </a>
    </div>

    <div class="row align-items-center mb-4">
        <div class="col-auto">
            <label for="cantidadRecordsPorPaginas" class="form-label mb-0">Cantidad de registros a mostrar</label>
        </div>
        <div class="col-auto">
            <select asp-for="@Model.RecordsPorPagina" id="cantidadRecordsPorPaginas" class="form-select">
                <option>5</option>
                <option>10</option>
                <option>20</option>
            </select>
        </div>
    </div>

    <table class="table custom-table align-middle">
        <thead>
        <tr>
            <th>Nombre</th>
            <th>Tipo</th>
            <th class="text-center" style="width: 180px;">Acciones</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var categoria in Model.Elementos)
        {
            <tr>
                <td>@categoria.Nombre</td>
                <td>@categoria.TipoOperacionId.ToString()</td>
                <td class="text-center">
                    <div class="d-flex justify-content-center gap-2">
                        <a class="btn btn-sm btn-outline-primary d-flex align-items-center gap-1"
                           asp-action="Editar" asp-route-id="@categoria.Id">
                            <i class="bi bi-pencil-fill"></i> Editar
                        </a>
                        <a class="btn btn-sm btn-outline-danger d-flex align-items-center gap-1"
                           asp-action="Borrar" asp-route-id="@categoria.Id">
                            <i class="bi bi-trash-fill"></i> Borrar
                        </a>
                    </div>
                </td>
            </tr>
        }
        </tbody>
    </table>

    <!-- Paginación al final -->
    <div class="mt-4">
        <partial name="_Paginacion" />
    </div>
</div>

@section Scripts {
    <script>
        $("#cantidadRecordsPorPaginas").change(function () {
            const recordsPorPagina = $(this).val();
            location.href = `/categorias/categorias?pagina=1&recordsPorPagina=${recordsPorPagina}`;
        });
    </script>
}






@* @model PaginacionRespuesta<Categoria> *@
@* @{ *@
@*     ViewData["Title"] = "Categorias"; *@
@* } *@
@* *@
@* <h1>Categorias</h1> *@
@* <h5>La categoria nos permite indicar en que gastamos nuestro dinero, tambien, de donde provienen nuestros ingresos</h5> *@
@* *@
@* *@
@* <a asp-action="Crear" class="btn btn-primary mb-3">Crear nuevo</a> *@
@* *@
@* <div class="row"> *@
@*     <label>Cantidad de registros a mostrar</label> *@
@*     <div class="mb-3 col-auto"> *@
@*         <select asp-for="@Model.RecordsPorPagina" id="cantidadRecordsPorPaginas" class="form-select"> *@
@*             <option>5</option> *@
@*             <option>10</option> *@
@*             <option>20</option> *@
@*         </select> *@
@*     </div> *@
@* </div> *@
@* *@
@* <partial name="_Paginacion"/> *@
@* *@
@* <table class="table"> *@
@*     <thead> *@
@*     <tr> *@
@*         <th>Acciones</th> *@
@*         <th>Nombre</th> *@
@*         <th>Tipo</th> *@
@*     </tr> *@
@*     </thead> *@
@*     <tbody> *@
@*     @foreach (var categoria in Model.Elementos) *@
@*     { *@
@*         <tr> *@
@*             <td> *@
@*                 <a class="btn-primary btn" asp-action="Editar" asp-route-id="@categoria.Id">Edita</a> *@
@*                 <a class="btn-danger btn" asp-action="Borrar" asp-route-id="@categoria.Id">Borrar</a> *@
@*             </td> *@
@*             <td> *@
@*                 @categoria.Nombre *@
@*             </td> *@
@*             <td> *@
@*                 @categoria.TipoOperacionId.ToString() *@
@*             </td> *@
@*         </tr> *@
@*     } *@
@*     </tbody> *@
@* </table> *@
@* *@
@* *@
@* @section Scripts *@
@* { *@
@*     <script> *@
@*         $("#cantidadRecordsPorPaginas").change(function() { *@
@*             const recordsPorPagina = $(this).val(); *@
@*             location.href = `/categorias/?pagina=1&recordsPorPagina=${recordsPorPagina}`; *@
@*         }); *@
@*     </script> *@
@* } *@
